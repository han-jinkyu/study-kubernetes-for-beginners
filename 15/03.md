# 3. 네트워크 플러그인들

- 쿠버네티스 네트워크 구조를 실제로 구성할 땐 CNI를 지원하는 네트워트 플러그인을 사용한다.
  
## 3.1 플라넬

- 코어OS에서 만든 플러그인
- 쿠버네티스 위에 레이어 3 네트워크를 구성할 수 있는 간단하고 쉬운 방법을 제공한다.
- 파드의 IP를 관리하는 별도의 데이터베이스 등을 필요로 하지 않는다.
- 오버레이 타입의 네트워크 구성 방법으로 VXLAN을 지원한다.
- 네트워크를 구성하기 쉽지만 쿠버네티스에서 설정하려는 네트워크 정책 등을 지원하지 않는 단점이 있다.

## 3.2 칼리코

- 가장 기본으로 선택하는 플러그인
- `Kubespray`에서도 기본 네트워크 플러그인으로 선택했다.
- 쿠버네티스 네트워크 정책 대부분을 구현하고 있다.
- 실제 서비스에 쿠버네티스를 사용할 때 직접 네트워크를 구성해야 한다면 가장 좋은 선택이다.
- BGP(Border Gateway Protocol) 기반의 레이어 3 네트워크를 구성할 수 있다.
    - 네이티브 클러스터 네트워크를 구성할 수도 있다.
    - 이는 클러스터의 파드로 접근할 때 서비스나 인그레스를 거치지 않고 클러스터 외부에서 직접 파드의 IP를 이용해 접근할 수 있다는 뜻이다.
- 실제 파드로 직접 접근할 일은 거의 없지만, 오버레이 타입 구성은 네트워크 성능이 좋아진다는 장점이 있다.

## 3.3 실리엄

- 새롭게 주목하는 네트워크 플러그인
- 리눅스 커널에 포함된 BPF(Berkeley Packet Filter) 기능을 이용한다.
- 실행 중에 필요한 기능을 커널에 추가하는 기술이다.
- XDP(Express Data Path)를 이용해 시스템 실행 중 네트워크 경로를 조정한다.
- 커널 수준에서 네트워크 경로를 수정할 수 있어 같은 노드에 있는 컨테이너들이라면 통신이 많이 좋아진다.
- 이런 장점 때문에 CPU, 메모리 등 사양이 좋은 노드로 클러스터를 구성하고 연관성 있는 파드를 같은 노드에 실행하도록 설정한다.

-----
[HOME](./index.md)
