# 11. 파드 구성 패턴

- 파드로 여러 개의 컨테이너를 묶어서 구성하고 실행할 때 몇 가지 패턴을 적용할 수 있다.
- 구글에서는 그동안의 경험을 정리해 '컨테이너 기반의 분산 시스템 디자인 패턴'이라는 자료를 공개했다.
- 단일 노드 안에서 여러 컨테이너를 구성할 때 사용하는 패턴이 소개되어 있다.

## 11.1 사이드카 패턴

- 원래 사용하려면 기본 컨테이너의 기능을 확장하거나 강화하는 용도의 컨테이너를 추가하는 패턴이다.
- 기본 컨테이너는 원래 목적에 충실하도록 구성하고, 나머지 공통 부가 기능은 사이드카 컨테이너를 추가한다.
- 예를 들어 일반적인 웹 서버에서 로그 파일을 남기면 사이드카 역할인 로그 수집 컨테이너가 로그를 수집해서 외부 시스템으로 보내도록 구성한다.
- 이렇게 구성하면 웹 서버 컨테이너를 다른 컨테이너로 바꿔도 로그 수집 컨테이너를 그대로 사용할 수 있다.

## 11.2 앰배서더 패턴

- 파드 안에서 프록시 역할을 하는 컨테이너를 추가하는 패턴이다.
- 파드 안에서 외부 서버에 접근할 때 내부 프록시에 접근하도록 설정하고 실제 외부 연결은 프록시가 처리한다.
- 예를 들어 웹 서버 컨테이너는 localhost로만 접근하고 실제 외부 캐시 중 어디로 접근할지는 프록시 컨테이너가 처리한다.
- 이런 방식으로 파드의 트래픽을 더 세밀하게 제어할 수 있다.

## 11.3 어댑터 패턴

- 파드 외부로 노출되는 정보를 표준화하는 어댑터 컨테이너를 사용하는 패턴이다.
- 주로 파드의 모니터링 지표를 표준화한 형식으로 노출하고, 외부 모니터링 시스템이 이를 가져가서 모니터링에 사용한다.

-----
[HOME](./index.md)
